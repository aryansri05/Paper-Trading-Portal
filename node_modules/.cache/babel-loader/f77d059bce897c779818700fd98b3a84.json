{"ast":null,"code":"var _jsxFileName = \"/Users/aryansrivastava/projects/Paper-Trading-Portal/src/TradingDashboard.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { supabase } from \"./supabaseClient\";\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, Cell, LineChart, Line } from \"recharts\";\nimport { useTradingData } from \"./TradingDataContext\";\nfunction TradingDashboard({\n  user\n}) {\n  var _user$id, _user$email;\n  const {\n    trades,\n    livePrices,\n    capital,\n    setCapital,\n    availableSymbols,\n    symbolError,\n    setSymbolError,\n    fetchTrades,\n    fetchLivePrices,\n    calculatePnL,\n    // This function now returns an object {holdings, totalRealizedPnl, totalUnrealizedPnl}\n    isInvalidApiKey,\n    FINNHUB_API_KEY,\n    CURRENCY_SYMBOL,\n    loadingData\n  } = useTradingData();\n  const [form, setForm] = useState({\n    symbol: \"\",\n    quantity: \"\",\n    type: \"buy\"\n  });\n\n  // --- NEW STATE FOR STOCK INFO ---\n  const [companyProfile, setCompanyProfile] = useState(null);\n  const [quoteDetails, setQuoteDetails] = useState(null);\n  const [historicalChartData, setHistoricalChartData] = useState([]);\n  const [stockInfoLoading, setStockInfoLoading] = useState(false);\n  const [stockInfoError, setStockInfoError] = useState(null);\n  // --- END NEW STATE ---\n\n  useEffect(() => {\n    console.log(\"TradingDashboard mounted or user prop changed. User:\", JSON.stringify(user, null, 2));\n  }, [user]);\n  console.log(\"TradingDashboard rendering - User prop received:\", user);\n  console.log(\"TradingDashboard loadingData:\", loadingData);\n\n  // Effect to fetch live prices for the symbol in the form, with a debounce\n  useEffect(() => {\n    if (form.symbol && !livePrices[form.symbol.toUpperCase()] && !loadingData) {\n      const handler = setTimeout(() => {\n        fetchLivePrices([form.symbol.toUpperCase()]);\n      }, 500);\n      return () => {\n        clearTimeout(handler);\n      };\n    }\n  }, [form.symbol, livePrices, loadingData, fetchLivePrices]);\n\n  // --- NEW useEffect for fetching detailed stock info and historical data ---\n  useEffect(() => {\n    const fetchStockDetails = async () => {\n      const symbol = form.symbol.toUpperCase();\n      if (!symbol || isInvalidApiKey(FINNHUB_API_KEY)) {\n        setCompanyProfile(null);\n        setQuoteDetails(null);\n        setHistoricalChartData([]);\n        setStockInfoError(null);\n        return;\n      }\n      setStockInfoLoading(true);\n      setStockInfoError(null); // Clear previous errors\n\n      try {\n        // Fetch Company Profile 2\n        const profileResponse = await axios.get(`https://finnhub.io/api/v1/stock/profile2?symbol=${symbol}&token=${FINNHUB_API_KEY}`);\n        // Only set data if response is valid (not empty object or error from API)\n        if (profileResponse.data && Object.keys(profileResponse.data).length > 0) {\n          setCompanyProfile(profileResponse.data);\n        } else {\n          setCompanyProfile(null); // No profile data\n        }\n\n        // Fetch Quote (Daily Summary)\n        const quoteResponse = await axios.get(`https://finnhub.io/api/v1/quote?symbol=${symbol}&token=${FINNHUB_API_KEY}`);\n        // Only set data if response is valid (check 'c' for current price usually means valid quote)\n        if (quoteResponse.data && quoteResponse.data.c) {\n          setQuoteDetails(quoteResponse.data);\n        } else {\n          setQuoteDetails(null); // No quote data\n        }\n\n        // Fetch Historical Data (Candles) for a period (e.g., 6 months)\n        const now = Math.floor(Date.now() / 1000); // Current timestamp\n        const sixMonthsAgo = now - 6 * 30 * 24 * 60 * 60; // Roughly 6 months ago for daily resolution\n\n        const candlesResponse = await axios.get(`https://finnhub.io/api/v1/stock/candle?symbol=${symbol}&resolution=D&from=${sixMonthsAgo}&to=${now}&token=${FINNHUB_API_KEY}`);\n\n        // Process historical data for Recharts\n        if (candlesResponse.data && candlesResponse.data.c && candlesResponse.data.t && candlesResponse.data.c.length > 0) {\n          const processedData = candlesResponse.data.t.map((timestamp, index) => ({\n            date: new Date(timestamp * 1000).toLocaleDateString('en-US', {\n              month: 'short',\n              day: 'numeric',\n              year: '2-digit'\n            }),\n            // Format date\n            price: candlesResponse.data.c[index] // Closing price for simplicity\n          }));\n          setHistoricalChartData(processedData);\n        } else {\n          setHistoricalChartData([]); // No data or invalid data\n        }\n      } catch (err) {\n        console.error(\"Error fetching stock info for\", symbol, err);\n        setStockInfoError(`Could not fetch detailed info for ${symbol}. This might be due to an invalid symbol, API key limits, or a free-tier API key not supporting advanced data. Please check the symbol and your Finnhub plan.`);\n        setCompanyProfile(null);\n        setQuoteDetails(null);\n        setHistoricalChartData([]);\n      } finally {\n        setStockInfoLoading(false);\n      }\n    };\n\n    // Debounce the fetch to avoid too many API calls as user types\n    const handler = setTimeout(() => {\n      fetchStockDetails();\n    }, 700);\n    return () => clearTimeout(handler); // Cleanup on component unmount or dependency change\n  }, [form.symbol, FINNHUB_API_KEY, isInvalidApiKey]); // Dependencies for this effect\n  // --- END NEW useEffect ---\n\n  const handleChange = e => {\n    let value = e.target.value.toUpperCase();\n    if (e.target.name === \"symbol\") {\n      value = value.replace(/[^A-Z0-9]/g, '');\n    }\n    setForm({\n      ...form,\n      [e.target.name]: value\n    });\n  };\n  const validateAndExecuteTrade = async type => {\n    if (!user || !user.id || typeof user.id !== 'string' || !user.id.includes('-') || user.id.startsWith(\"dummy-user-id\")) {\n      alert(\"User Authentication Error: Cannot execute trade without a valid user session. Please ensure you are logged in correctly.\");\n      console.error(\"Trade rejected: Invalid user object or user ID. User ID:\", user ? user.id : \"N/A\");\n      return;\n    }\n    console.log(`Attempting ${type} trade for user_id: ${user.id} with symbol: ${form.symbol}`);\n    if (isInvalidApiKey(FINNHUB_API_KEY)) {\n      alert(\"Trading disabled: Invalid Finnhub API Key. Please update it in the code.\");\n      return;\n    }\n    const sym = form.symbol.toUpperCase();\n    const qty = Number(form.quantity);\n    if (!sym || !qty || qty <= 0) {\n      alert(\"Invalid input: Symbol and positive quantity are required.\");\n      return;\n    }\n    if (availableSymbols.length > 0 && !availableSymbols.includes(sym)) {\n      alert(`Symbol '${sym}' is not in the recognized list of US stocks. ` + `Please select from suggestions or ensure it's a valid US ticker.`);\n      setSymbolError(`Symbol '${sym}' not found in available US stock list. Is your API key providing full coverage?`);\n      return;\n    }\n    const price = livePrices[sym];\n    if (typeof price !== 'number' || price <= 0) {\n      alert(`Live price for '${sym}' is currently unavailable or invalid. ` + `Ensure the symbol is a correct US ticker, actively traded, and your API key is working. Try again shortly.`);\n      setSymbolError(`No valid live price for '${sym}'. Check US ticker, API data availability, or API key.`);\n      return;\n    }\n    const trade = {\n      user_id: user.id,\n      symbol: sym,\n      quantity: qty,\n      price,\n      type\n    };\n    if (type === \"buy\") {\n      const cost = qty * price;\n      if (cost > capital) {\n        alert(\"Not enough capital to perform this buy trade.\");\n        return;\n      }\n      setCapital(c => c - cost);\n    } else {\n      // Sell trade logic\n      // --- START CHANGE HERE ---\n      const {\n        holdings: pnlHoldingsForSell\n      } = calculatePnL(trades); // Destructure holdings\n      const heldStock = pnlHoldingsForSell.find(s => s.symbol === sym); // Use holdings array\n      // --- END CHANGE HERE ---\n      if (!heldStock || heldStock.netQty < qty) {\n        alert(`You only hold ${heldStock ? heldStock.netQty : 0} of ${sym}. Cannot sell ${qty}.`);\n        return;\n      }\n      setCapital(c => c + qty * price);\n    }\n    const {\n      error\n    } = await supabase.from(\"trades\").insert([trade]);\n    if (error) {\n      alert(\"Error executing trade with database: \" + error.message);\n      if (type === \"buy\") {\n        setCapital(c => c + qty * price);\n      } else {\n        setCapital(c => c - qty * price);\n      }\n      return;\n    }\n    setForm({\n      ...form,\n      quantity: \"\"\n    });\n    fetchTrades();\n    setSymbolError(\"\");\n  };\n  const handleBuy = () => validateAndExecuteTrade(\"buy\");\n  const handleSell = () => validateAndExecuteTrade(\"sell\");\n  const handleLogout = async () => {\n    if (!user || !user.id) return;\n    console.log(\"Logging out user:\", user.id);\n    const {\n      error\n    } = await supabase.auth.signOut();\n    if (error) {\n      console.error(\"Error logging out:\", error.message);\n      alert(\"Logout failed: \" + error.message);\n    } else {\n      console.log(\"User successfully logged out.\");\n    }\n  };\n\n  // --- START CHANGE HERE ---\n  const {\n    holdings: holdingsData\n  } = calculatePnL(trades); // Destructure holdings\n  // --- END CHANGE HERE ---\n\n  // --- Updated Loading Indicator for overall dashboard data ---\n  if (loadingData) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"spinner-container\",\n      style: {\n        textAlign: 'center',\n        marginTop: '50px',\n        fontSize: '20px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"spinner\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"spinner-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }\n    }, \"Loading trading dashboard data...\"));\n  }\n  // --- End Updated Loading Indicator ---\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: \"1rem 2rem\",\n      fontFamily: \"Arial\",\n      maxWidth: 900,\n      margin: \"auto\",\n      backgroundColor: '#f9f9f9',\n      borderRadius: '8px',\n      boxShadow: '0 2px 10px rgba(0,0,0,0.05)'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      textAlign: 'center',\n      color: '#333'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    role: \"img\",\n    \"aria-label\": \"chart with increasing trend\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 9\n    }\n  }, \"\\uD83D\\uDCC8\"), \" Paper Trading Dashboard (US Market)\"), /*#__PURE__*/React.createElement(\"pre\", {\n    style: {\n      backgroundColor: '#eee',\n      padding: '10px',\n      margin: '1rem 0',\n      border: '1px solid black',\n      whiteSpace: 'pre-wrap',\n      wordBreak: 'break-all'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 9\n    }\n  }, \"DEBUG INFO:\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 37\n    }\n  }), \"Is 'user' truthy? \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 27\n    }\n  }, user ? 'Yes' : 'No'), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 65\n    }\n  }), \"user.id: \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 18\n    }\n  }, (_user$id = user === null || user === void 0 ? void 0 : user.id) !== null && _user$id !== void 0 ? _user$id : 'Not Available'), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 64\n    }\n  }), \"user.email: \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 21\n    }\n  }, (_user$email = user === null || user === void 0 ? void 0 : user.email) !== null && _user$email !== void 0 ? _user$email : 'Not Available')), user && user.email && /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      textAlign: 'center',\n      color: '#555',\n      marginBottom: '1rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 31\n    }\n  }, \"Logged in as: \", user.email, \" (ID: \", user.id, \")\"), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      fontSize: '1.2rem',\n      fontWeight: 'bold',\n      textAlign: 'center',\n      color: '#007bff'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 7\n    }\n  }, \"Capital: \", CURRENCY_SYMBOL, capital.toFixed(2)), user && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: 'center',\n      marginBottom: '1.5rem',\n      display: 'flex',\n      justifyContent: 'center',\n      gap: '1rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/portfolio\",\n    style: {\n      padding: '10px 20px',\n      backgroundColor: '#007bff',\n      color: 'white',\n      border: 'none',\n      borderRadius: '5px',\n      cursor: 'pointer',\n      fontSize: '1rem',\n      textDecoration: 'none',\n      transition: 'background-color 0.2s'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 11\n    }\n  }, \"View Portfolio\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleLogout,\n    style: {\n      padding: '10px 20px',\n      backgroundColor: '#dc3545',\n      color: 'white',\n      border: 'none',\n      borderRadius: '5px',\n      cursor: 'pointer',\n      fontSize: '1rem',\n      transition: 'background-color 0.2s'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 11\n    }\n  }, \"Logout\")), isInvalidApiKey(FINNHUB_API_KEY) && /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: \"red\",\n      fontWeight: \"bold\",\n      border: \"1px solid red\",\n      padding: \"0.8rem\",\n      margin: \"1.5rem 0\",\n      backgroundColor: '#ffe6e6',\n      borderRadius: '5px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    role: \"img\",\n    \"aria-label\": \"warning sign\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 11\n    }\n  }, \"\\u26A0\\uFE0F\"), \" WARNING: A valid Finnhub API Key is not set in `TradingDataContext.js` or your current key is a free-tier key. Symbol list loading, live prices, and full trading functionality may not work correctly or may be severely limited. Please consider upgrading your Finnhub plan for broader access.\"), /*#__PURE__*/React.createElement(\"form\", {\n    style: {\n      marginBottom: \"2rem\",\n      display: \"flex\",\n      gap: \"0.8rem\",\n      flexWrap: \"wrap\",\n      alignItems: \"center\",\n      border: '1px solid #eee',\n      padding: '1.5rem',\n      borderRadius: '8px',\n      backgroundColor: '#fff'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    name: \"symbol\",\n    placeholder: \"Symbol (e.g., AAPL, MSFT)\",\n    value: form.symbol,\n    onChange: handleChange,\n    required: true,\n    style: {\n      flex: '1 1 180px',\n      minWidth: '150px',\n      padding: \"10px\",\n      border: \"1px solid #ddd\",\n      borderRadius: \"5px\",\n      fontSize: \"1rem\",\n      textTransform: \"uppercase\"\n    },\n    list: \"symbols-list\",\n    title: \"Enter US stock symbol, e.g., AAPL, MSFT\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"datalist\", {\n    id: \"symbols-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 9\n    }\n  }, availableSymbols.map(sym => /*#__PURE__*/React.createElement(\"option\", {\n    key: sym,\n    value: sym,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"quantity\",\n    type: \"number\",\n    placeholder: \"Quantity\",\n    value: form.quantity,\n    onChange: e => setForm({\n      ...form,\n      quantity: e.target.value\n    }),\n    required: true,\n    min: \"1\",\n    style: {\n      flex: '0 0 100px',\n      minWidth: '80px',\n      padding: \"10px\",\n      border: \"1px solid #ddd\",\n      borderRadius: \"5px\",\n      fontSize: \"1rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: handleBuy,\n    style: {\n      flex: '0 0 80px',\n      padding: \"10px 15px\",\n      backgroundColor: \"#28a745\",\n      color: \"white\",\n      border: \"none\",\n      cursor: \"pointer\",\n      borderRadius: \"5px\",\n      fontSize: \"1rem\",\n      fontWeight: \"bold\",\n      transition: 'background-color 0.2s'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 9\n    }\n  }, \"Buy\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: handleSell,\n    style: {\n      flex: '0 0 80px',\n      padding: \"10px 15px\",\n      backgroundColor: \"#dc3545\",\n      color: \"white\",\n      border: \"none\",\n      cursor: \"pointer\",\n      borderRadius: \"5px\",\n      fontSize: \"1rem\",\n      fontWeight: \"bold\",\n      transition: 'background-color 0.2s'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 9\n    }\n  }, \"Sell\")), symbolError && /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: \"red\",\n      marginTop: \"0.5rem\",\n      padding: \"0.8rem\",\n      border: \"1px dashed red\",\n      backgroundColor: '#ffe6e6',\n      borderRadius: '5px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    role: \"img\",\n    \"aria-label\": \"warning sign\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 9\n    }\n  }, \"\\u26A0\\uFE0F\"), \" \", symbolError), form.symbol &&\n  /*#__PURE__*/\n  // Only show this section if a symbol is typed\n  React.createElement(\"div\", {\n    style: {\n      marginTop: '2rem',\n      padding: '1.5rem',\n      border: '1px solid #ddd',\n      borderRadius: '8px',\n      backgroundColor: '#fff'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    style: {\n      color: '#333',\n      marginBottom: '1rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 11\n    }\n  }, \"Information for: \", form.symbol.toUpperCase(), \" \", livePrices[form.symbol.toUpperCase()] ? `(${CURRENCY_SYMBOL}${livePrices[form.symbol.toUpperCase()].toFixed(2)})` : ''), stockInfoLoading && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"spinner-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"spinner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"spinner-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 15\n    }\n  }, \"Loading stock details...\")), stockInfoError && /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: \"red\",\n      border: \"1px dashed red\",\n      padding: \"0.8rem\",\n      borderRadius: \"5px\",\n      backgroundColor: '#ffe6e6'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 30\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    role: \"img\",\n    \"aria-label\": \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 13\n    }\n  }, \"\\u274C\"), \" \", stockInfoError), !stockInfoLoading && !stockInfoError && companyProfile && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginBottom: '1.5rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      color: '#555',\n      borderBottom: '1px solid #eee',\n      paddingBottom: '0.5rem',\n      marginBottom: '1rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 15\n    }\n  }, \"Company Profile\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 18\n    }\n  }, \"Name:\"), \" \", companyProfile.name || 'N/A'), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 18\n    }\n  }, \"Exchange:\"), \" \", companyProfile.exchange || 'N/A'), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 18\n    }\n  }, \"Industry:\"), \" \", companyProfile.finnhubIndustry || 'N/A'), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 18\n    }\n  }, \"IPO Date:\"), \" \", companyProfile.ipo || 'N/A'), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 18\n    }\n  }, \"Market Cap:\"), \" \", companyProfile.marketCapitalization ? `${CURRENCY_SYMBOL}${companyProfile.marketCapitalization.toFixed(2)}B` : 'N/A'), \" \", companyProfile.weburl && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 44\n    }\n  }, \"Website:\"), \" \", /*#__PURE__*/React.createElement(\"a\", {\n    href: companyProfile.weburl,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 70\n    }\n  }, companyProfile.weburl))), !stockInfoLoading && !stockInfoError && quoteDetails && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginBottom: '1.5rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      color: '#555',\n      borderBottom: '1px solid #eee',\n      paddingBottom: '0.5rem',\n      marginBottom: '1rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 15\n    }\n  }, \"Daily Quote\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 18\n    }\n  }, \"Open:\"), \" \", quoteDetails.o ? `${CURRENCY_SYMBOL}${quoteDetails.o.toFixed(2)}` : 'N/A'), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 18\n    }\n  }, \"High:\"), \" \", quoteDetails.h ? `${CURRENCY_SYMBOL}${quoteDetails.h.toFixed(2)}` : 'N/A'), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 18\n    }\n  }, \"Low:\"), \" \", quoteDetails.l ? `${CURRENCY_SYMBOL}${quoteDetails.l.toFixed(2)}` : 'N/A'), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 18\n    }\n  }, \"Previous Close:\"), \" \", quoteDetails.pc ? `${CURRENCY_SYMBOL}${quoteDetails.pc.toFixed(2)}` : 'N/A'), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 18\n    }\n  }, \"Change:\"), \" \", /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: quoteDetails.d >= 0 ? \"green\" : \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 43\n    }\n  }, quoteDetails.d ? `${CURRENCY_SYMBOL}${quoteDetails.d.toFixed(2)}` : 'N/A')), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 18\n    }\n  }, \"Percent Change:\"), \" \", /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: quoteDetails.dp >= 0 ? \"green\" : \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 51\n    }\n  }, quoteDetails.dp ? `${quoteDetails.dp.toFixed(2)}%` : 'N/A'))), !stockInfoLoading && !stockInfoError && historicalChartData.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      color: '#555',\n      borderBottom: '1px solid #eee',\n      paddingBottom: '0.5rem',\n      marginBottom: '1rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 15\n    }\n  }, \"6-Month Price History\"), /*#__PURE__*/React.createElement(ResponsiveContainer, {\n    width: \"100%\",\n    height: 250,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(LineChart, {\n    data: historicalChartData,\n    margin: {\n      top: 5,\n      right: 10,\n      left: 0,\n      bottom: 5\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CartesianGrid, {\n    strokeDasharray: \"3 3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(XAxis, {\n    dataKey: \"date\",\n    interval: Math.floor(historicalChartData.length / 5),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 19\n    }\n  }), \" \", /*#__PURE__*/React.createElement(YAxis, {\n    domain: ['dataMin', 'dataMax'],\n    tickFormatter: value => `${CURRENCY_SYMBOL}${value.toFixed(2)}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(Tooltip, {\n    formatter: value => [`${CURRENCY_SYMBOL}${Number(value).toFixed(2)}`, 'Close Price'],\n    labelFormatter: label => `Date: ${label}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(Legend, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(Line, {\n    type: \"monotone\",\n    dataKey: \"price\",\n    stroke: \"#8884d8\",\n    dot: false,\n    activeDot: {\n      r: 8\n    },\n    name: \"Close Price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      textAlign: 'center',\n      fontSize: '0.9em',\n      color: '#777'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 15\n    }\n  }, \"Showing daily close prices for the last 6 months.\")) : !stockInfoLoading && !stockInfoError && /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: '#666'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 55\n    }\n  }, \"No historical data available for this symbol.\")), /*#__PURE__*/React.createElement(\"h2\", {\n    style: {\n      color: '#333',\n      marginTop: '2rem',\n      marginBottom: '1rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 7\n    }\n  }, \"Live Prices (US Stocks)\"), Object.keys(livePrices).filter(sym => livePrices[sym] !== null && typeof livePrices[sym] === 'number' && livePrices[sym] > 0).length > 0 ? /*#__PURE__*/React.createElement(\"ul\", {\n    style: {\n      listStyleType: \"none\",\n      paddingLeft: 0,\n      columns: 2,\n      columnGap: \"20px\",\n      border: '1px solid #eee',\n      padding: '1.5rem',\n      borderRadius: '8px',\n      backgroundColor: '#fff'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 9\n    }\n  }, Object.entries(livePrices).map(([sym, price]) => price !== null && typeof price === 'number' && price > 0 ? /*#__PURE__*/React.createElement(\"li\", {\n    key: sym,\n    style: {\n      padding: \"0.5rem 0\",\n      borderBottom: \"1px solid #eee\",\n      display: 'flex',\n      justifyContent: 'space-between'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      fontWeight: 'bold'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 17\n    }\n  }, sym), \": \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 66\n    }\n  }, CURRENCY_SYMBOL, price.toFixed(2))) : null)) : /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: '#666',\n      border: '1px dashed #ccc',\n      padding: '1rem',\n      borderRadius: '5px',\n      backgroundColor: '#fff'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 9\n    }\n  }, \"No live prices for US stocks currently displayed. Ensure your API key is valid and type a valid US ticker (e.g. AAPL).\"), /*#__PURE__*/React.createElement(\"h2\", {\n    style: {\n      color: '#333',\n      marginTop: '2rem',\n      marginBottom: '1rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 7\n    }\n  }, \"Trade History\"), trades.length > 0 ? /*#__PURE__*/React.createElement(\"table\", {\n    style: {\n      width: \"100%\",\n      borderCollapse: \"collapse\",\n      marginBottom: \"2rem\",\n      border: '1px solid #ddd',\n      borderRadius: '8px',\n      overflow: 'hidden'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    style: {\n      backgroundColor: \"#eef\",\n      color: '#333'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      padding: '12px',\n      textAlign: 'left',\n      borderBottom: '1px solid #ddd'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 15\n    }\n  }, \"Symbol\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      padding: '12px',\n      textAlign: 'left',\n      borderBottom: '1px solid #ddd'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 15\n    }\n  }, \"Qty\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      padding: '12px',\n      textAlign: 'left',\n      borderBottom: '1px solid #ddd'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 437,\n      columnNumber: 15\n    }\n  }, \"Price\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      padding: '12px',\n      textAlign: 'left',\n      borderBottom: '1px solid #ddd'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 15\n    }\n  }, \"Type\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      padding: '12px',\n      textAlign: 'left',\n      borderBottom: '1px solid #ddd'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 15\n    }\n  }, \"Time\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 11\n    }\n  }, trades.map(t => /*#__PURE__*/React.createElement(\"tr\", {\n    key: t.id,\n    style: {\n      backgroundColor: t.type === 'buy' ? '#e6ffe6' : '#ffe6e6'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      padding: '12px',\n      borderBottom: '1px solid #eee'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 17\n    }\n  }, t.symbol), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      padding: '12px',\n      borderBottom: '1px solid #eee'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 17\n    }\n  }, t.quantity), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      padding: '12px',\n      borderBottom: '1px solid #eee'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 17\n    }\n  }, CURRENCY_SYMBOL, Number(t.price).toFixed(2)), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      padding: '12px',\n      borderBottom: '1px solid #eee',\n      color: t.type === \"buy\" ? \"green\" : \"red\",\n      textTransform: \"capitalize\",\n      fontWeight: 'bold'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 17\n    }\n  }, t.type), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      padding: '12px',\n      borderBottom: '1px solid #eee',\n      fontSize: '0.9em',\n      color: '#666'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 17\n    }\n  }, new Date(t.created_at).toLocaleString()))))) : /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: '#666',\n      border: '1px dashed #ccc',\n      padding: '1rem',\n      borderRadius: '5px',\n      backgroundColor: '#fff'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 12\n    }\n  }, \"No trades made yet.\"), /*#__PURE__*/React.createElement(\"h2\", {\n    style: {\n      color: '#333',\n      marginTop: '2rem',\n      marginBottom: '1rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 7\n    }\n  }, \"Holdings & Profit/Loss (Live)\"), holdingsData.filter(row => row.netQty > 0).length > 0 ? /*#__PURE__*/React.createElement(\"table\", {\n    style: {\n      width: \"100%\",\n      borderCollapse: \"collapse\",\n      marginBottom: \"2rem\",\n      border: '1px solid #ddd',\n      borderRadius: '8px',\n      overflow: 'hidden'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 459,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    style: {\n      backgroundColor: \"#eef\",\n      color: '#333'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 460,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 461,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      padding: '12px',\n      textAlign: 'left',\n      borderBottom: '1px solid #ddd'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 15\n    }\n  }, \"Symbol\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      padding: '12px',\n      textAlign: 'left',\n      borderBottom: '1px solid #ddd'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 463,\n      columnNumber: 15\n    }\n  }, \"Net Qty Held\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      padding: '12px',\n      textAlign: 'left',\n      borderBottom: '1px solid #ddd'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 464,\n      columnNumber: 15\n    }\n  }, \"Avg. Buy Price\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      padding: '12px',\n      textAlign: 'left',\n      borderBottom: '1px solid #ddd'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 465,\n      columnNumber: 15\n    }\n  }, \"Live P&L\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 468,\n      columnNumber: 11\n    }\n  }, holdingsData.filter(row => row.netQty > 0).map(row => /*#__PURE__*/React.createElement(\"tr\", {\n    key: row.symbol,\n    style: {\n      backgroundColor: parseFloat(row.unrealizedPnl) >= 0 ? '#e6ffe6' : '#ffe6e6'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 470,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      padding: '12px',\n      borderBottom: '1px solid #eee'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 471,\n      columnNumber: 17\n    }\n  }, row.symbol), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      padding: '12px',\n      borderBottom: '1px solid #eee'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 17\n    }\n  }, row.netQty), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      padding: '12px',\n      borderBottom: '1px solid #eee'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 17\n    }\n  }, CURRENCY_SYMBOL, row.avgBuyPrice), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      padding: '12px',\n      borderBottom: '1px solid #eee',\n      color: parseFloat(row.unrealizedPnl) >= 0 ? \"green\" : \"red\",\n      fontWeight: 'bold'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 474,\n      columnNumber: 17\n    }\n  }, CURRENCY_SYMBOL, row.unrealizedPnl))))) : /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: '#666',\n      border: '1px dashed #ccc',\n      padding: '1rem',\n      borderRadius: '5px',\n      backgroundColor: '#fff'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 481,\n      columnNumber: 12\n    }\n  }, \"No current holdings or live P&L to display.\"), /*#__PURE__*/React.createElement(\"h2\", {\n    style: {\n      color: '#333',\n      marginTop: '2rem',\n      marginBottom: '1rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 7\n    }\n  }, \"P&L Chart (Live)\"), holdingsData.filter(p => parseFloat(p.unrealizedPnl) !== 0).length > 0 ? /*#__PURE__*/React.createElement(ResponsiveContainer, {\n    width: \"100%\",\n    height: 300,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(BarChart, {\n    data: holdingsData.filter(p => parseFloat(p.unrealizedPnl) !== 0),\n    margin: {\n      top: 5,\n      right: 30,\n      left: 20,\n      bottom: 5\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 487,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CartesianGrid, {\n    strokeDasharray: \"3 3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(XAxis, {\n    dataKey: \"symbol\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 489,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(YAxis, {\n    tickFormatter: value => `${CURRENCY_SYMBOL}${value}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 490,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Tooltip, {\n    formatter: value => [`${CURRENCY_SYMBOL}${Number(value).toFixed(2)}`, 'Live P&L'],\n    labelFormatter: label => `Symbol: ${label}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 491,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Legend, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 495,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Bar, {\n    dataKey: \"unrealizedPnl\",\n    name: \"Live P&L\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 496,\n      columnNumber: 13\n    }\n  }, holdingsData.filter(p => parseFloat(p.unrealizedPnl) !== 0).map((entry, index) => /*#__PURE__*/React.createElement(Cell, {\n    key: `cell-${index}`,\n    fill: parseFloat(entry.unrealizedPnl) >= 0 ? \"#4caf50\" : \"#f44336\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 498,\n      columnNumber: 17\n    }\n  }))))) : /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: '#666',\n      border: '1px dashed #ccc',\n      padding: '1rem',\n      borderRadius: '5px',\n      backgroundColor: '#fff'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 503,\n      columnNumber: 12\n    }\n  }, \"No live P&L to chart.\"));\n}\nexport default TradingDashboard;","map":{"version":3,"names":["React","useState","useEffect","Link","axios","supabase","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","Cell","LineChart","Line","useTradingData","TradingDashboard","user","_user$id","_user$email","trades","livePrices","capital","setCapital","availableSymbols","symbolError","setSymbolError","fetchTrades","fetchLivePrices","calculatePnL","isInvalidApiKey","FINNHUB_API_KEY","CURRENCY_SYMBOL","loadingData","form","setForm","symbol","quantity","type","companyProfile","setCompanyProfile","quoteDetails","setQuoteDetails","historicalChartData","setHistoricalChartData","stockInfoLoading","setStockInfoLoading","stockInfoError","setStockInfoError","console","log","JSON","stringify","toUpperCase","handler","setTimeout","clearTimeout","fetchStockDetails","profileResponse","get","data","Object","keys","length","quoteResponse","c","now","Math","floor","Date","sixMonthsAgo","candlesResponse","t","processedData","map","timestamp","index","date","toLocaleDateString","month","day","year","price","err","error","handleChange","e","value","target","name","replace","validateAndExecuteTrade","id","includes","startsWith","alert","sym","qty","Number","trade","user_id","cost","holdings","pnlHoldingsForSell","heldStock","find","s","netQty","from","insert","message","handleBuy","handleSell","handleLogout","auth","signOut","holdingsData","createElement","className","style","textAlign","marginTop","fontSize","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","padding","fontFamily","maxWidth","margin","backgroundColor","borderRadius","boxShadow","color","role","border","whiteSpace","wordBreak","email","marginBottom","fontWeight","toFixed","display","justifyContent","gap","to","cursor","textDecoration","transition","onClick","flexWrap","alignItems","placeholder","onChange","required","flex","minWidth","textTransform","list","title","key","min","borderBottom","paddingBottom","exchange","finnhubIndustry","ipo","marketCapitalization","weburl","href","rel","o","h","l","pc","d","dp","width","height","top","right","left","bottom","strokeDasharray","dataKey","interval","domain","tickFormatter","formatter","labelFormatter","label","stroke","dot","activeDot","r","filter","listStyleType","paddingLeft","columns","columnGap","entries","borderCollapse","overflow","created_at","toLocaleString","row","parseFloat","unrealizedPnl","avgBuyPrice","p","entry","fill"],"sources":["/Users/aryansrivastava/projects/Paper-Trading-Portal/src/TradingDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\"; \nimport { supabase } from \"./supabaseClient\"; \nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n  Cell,\n  LineChart,\n  Line,\n} from \"recharts\";\nimport { useTradingData } from \"./TradingDataContext\";\n\nfunction TradingDashboard({ user }) {\n  const {\n    trades,\n    livePrices,\n    capital,\n    setCapital,\n    availableSymbols,\n    symbolError,\n    setSymbolError,\n    fetchTrades,\n    fetchLivePrices,\n    calculatePnL, // This function now returns an object {holdings, totalRealizedPnl, totalUnrealizedPnl}\n    isInvalidApiKey,\n    FINNHUB_API_KEY,\n    CURRENCY_SYMBOL,\n    loadingData,\n  } = useTradingData();\n\n  const [form, setForm] = useState({ symbol: \"\", quantity: \"\", type: \"buy\" });\n\n  // --- NEW STATE FOR STOCK INFO ---\n  const [companyProfile, setCompanyProfile] = useState(null);\n  const [quoteDetails, setQuoteDetails] = useState(null);\n  const [historicalChartData, setHistoricalChartData] = useState([]);\n  const [stockInfoLoading, setStockInfoLoading] = useState(false);\n  const [stockInfoError, setStockInfoError] = useState(null);\n  // --- END NEW STATE ---\n\n  useEffect(() => {\n    console.log(\"TradingDashboard mounted or user prop changed. User:\", JSON.stringify(user, null, 2));\n  }, [user]);\n\n  console.log(\"TradingDashboard rendering - User prop received:\", user);\n  console.log(\"TradingDashboard loadingData:\", loadingData);\n\n  // Effect to fetch live prices for the symbol in the form, with a debounce\n  useEffect(() => {\n    if (form.symbol && !livePrices[form.symbol.toUpperCase()] && !loadingData) {\n      const handler = setTimeout(() => {\n        fetchLivePrices([form.symbol.toUpperCase()]);\n      }, 500);\n\n      return () => {\n        clearTimeout(handler);\n      };\n    }\n  }, [form.symbol, livePrices, loadingData, fetchLivePrices]);\n\n  // --- NEW useEffect for fetching detailed stock info and historical data ---\n  useEffect(() => {\n    const fetchStockDetails = async () => {\n      const symbol = form.symbol.toUpperCase();\n      if (!symbol || isInvalidApiKey(FINNHUB_API_KEY)) {\n        setCompanyProfile(null);\n        setQuoteDetails(null);\n        setHistoricalChartData([]);\n        setStockInfoError(null);\n        return;\n      }\n\n      setStockInfoLoading(true);\n      setStockInfoError(null); // Clear previous errors\n\n      try {\n        // Fetch Company Profile 2\n        const profileResponse = await axios.get(\n          `https://finnhub.io/api/v1/stock/profile2?symbol=${symbol}&token=${FINNHUB_API_KEY}`\n        );\n        // Only set data if response is valid (not empty object or error from API)\n        if (profileResponse.data && Object.keys(profileResponse.data).length > 0) {\n          setCompanyProfile(profileResponse.data);\n        } else {\n          setCompanyProfile(null); // No profile data\n        }\n\n        // Fetch Quote (Daily Summary)\n        const quoteResponse = await axios.get(\n          `https://finnhub.io/api/v1/quote?symbol=${symbol}&token=${FINNHUB_API_KEY}`\n        );\n        // Only set data if response is valid (check 'c' for current price usually means valid quote)\n        if (quoteResponse.data && quoteResponse.data.c) {\n          setQuoteDetails(quoteResponse.data);\n        } else {\n          setQuoteDetails(null); // No quote data\n        }\n\n        // Fetch Historical Data (Candles) for a period (e.g., 6 months)\n        const now = Math.floor(Date.now() / 1000); // Current timestamp\n        const sixMonthsAgo = now - (6 * 30 * 24 * 60 * 60); // Roughly 6 months ago for daily resolution\n        \n        const candlesResponse = await axios.get(\n          `https://finnhub.io/api/v1/stock/candle?symbol=${symbol}&resolution=D&from=${sixMonthsAgo}&to=${now}&token=${FINNHUB_API_KEY}`\n        );\n\n        // Process historical data for Recharts\n        if (candlesResponse.data && candlesResponse.data.c && candlesResponse.data.t && candlesResponse.data.c.length > 0) {\n          const processedData = candlesResponse.data.t.map((timestamp, index) => ({\n            date: new Date(timestamp * 1000).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: '2-digit' }), // Format date\n            price: candlesResponse.data.c[index], // Closing price for simplicity\n          }));\n          setHistoricalChartData(processedData);\n        } else {\n          setHistoricalChartData([]); // No data or invalid data\n        }\n\n      } catch (err) {\n        console.error(\"Error fetching stock info for\", symbol, err);\n        setStockInfoError(`Could not fetch detailed info for ${symbol}. This might be due to an invalid symbol, API key limits, or a free-tier API key not supporting advanced data. Please check the symbol and your Finnhub plan.`);\n        setCompanyProfile(null);\n        setQuoteDetails(null);\n        setHistoricalChartData([]);\n      } finally {\n        setStockInfoLoading(false);\n      }\n    };\n\n    // Debounce the fetch to avoid too many API calls as user types\n    const handler = setTimeout(() => {\n      fetchStockDetails();\n    }, 700); \n\n    return () => clearTimeout(handler); // Cleanup on component unmount or dependency change\n\n  }, [form.symbol, FINNHUB_API_KEY, isInvalidApiKey]); // Dependencies for this effect\n  // --- END NEW useEffect ---\n\n  const handleChange = (e) => {\n    let value = e.target.value.toUpperCase();\n    if (e.target.name === \"symbol\") {\n      value = value.replace(/[^A-Z0-9]/g, ''); \n    }\n    setForm({ ...form, [e.target.name]: value });\n  };\n\n  const validateAndExecuteTrade = async (type) => {\n    if (!user || !user.id || typeof user.id !== 'string' || !user.id.includes('-') || user.id.startsWith(\"dummy-user-id\")) {\n      alert(\"User Authentication Error: Cannot execute trade without a valid user session. Please ensure you are logged in correctly.\");\n      console.error(\"Trade rejected: Invalid user object or user ID. User ID:\", user ? user.id : \"N/A\");\n      return;\n    }\n    console.log(`Attempting ${type} trade for user_id: ${user.id} with symbol: ${form.symbol}`);\n\n    if (isInvalidApiKey(FINNHUB_API_KEY)) {\n      alert(\"Trading disabled: Invalid Finnhub API Key. Please update it in the code.\");\n      return;\n    }\n\n    const sym = form.symbol.toUpperCase(); \n    const qty = Number(form.quantity);\n\n    if (!sym || !qty || qty <= 0) {\n      alert(\"Invalid input: Symbol and positive quantity are required.\");\n      return;\n    }\n\n    if (availableSymbols.length > 0 && !availableSymbols.includes(sym)) {\n      alert(\n        `Symbol '${sym}' is not in the recognized list of US stocks. ` +\n        `Please select from suggestions or ensure it's a valid US ticker.`\n      );\n      setSymbolError(`Symbol '${sym}' not found in available US stock list. Is your API key providing full coverage?`);\n      return;\n    }\n    \n    const price = livePrices[sym];\n    if (typeof price !== 'number' || price <= 0) { \n      alert(\n        `Live price for '${sym}' is currently unavailable or invalid. ` +\n        `Ensure the symbol is a correct US ticker, actively traded, and your API key is working. Try again shortly.`\n      );\n      setSymbolError(`No valid live price for '${sym}'. Check US ticker, API data availability, or API key.`);\n      return;\n    }\n\n    const trade = { user_id: user.id, symbol: sym, quantity: qty, price, type };\n\n    if (type === \"buy\") {\n      const cost = qty * price;\n      if (cost > capital) {\n        alert(\"Not enough capital to perform this buy trade.\");\n        return;\n      }\n      setCapital((c) => c - cost); \n    } else { // Sell trade logic\n      // --- START CHANGE HERE ---\n      const { holdings: pnlHoldingsForSell } = calculatePnL(trades); // Destructure holdings\n      const heldStock = pnlHoldingsForSell.find(s => s.symbol === sym); // Use holdings array\n      // --- END CHANGE HERE ---\n      if (!heldStock || heldStock.netQty < qty) {\n          alert(`You only hold ${heldStock ? heldStock.netQty : 0} of ${sym}. Cannot sell ${qty}.`);\n          return;\n      }\n      setCapital((c) => c + qty * price);\n    }\n\n    const { error } = await supabase.from(\"trades\").insert([trade]);\n\n    if (error) {\n      alert(\"Error executing trade with database: \" + error.message);\n      if (type === \"buy\") {\n        setCapital((c) => c + (qty * price));\n      } else {\n        setCapital((c) => c - (qty * price));\n      }\n      return;\n    }\n\n    setForm({ ...form, quantity: \"\" });\n    fetchTrades();\n    setSymbolError(\"\");\n  };\n\n  const handleBuy = () => validateAndExecuteTrade(\"buy\");\n  const handleSell = () => validateAndExecuteTrade(\"sell\");\n\n  const handleLogout = async () => {\n    if (!user || !user.id) return;\n    console.log(\"Logging out user:\", user.id);\n    const { error } = await supabase.auth.signOut();\n    if (error) {\n        console.error(\"Error logging out:\", error.message);\n        alert(\"Logout failed: \" + error.message);\n    } else {\n        console.log(\"User successfully logged out.\");\n    }\n  };\n\n  // --- START CHANGE HERE ---\n  const { holdings: holdingsData } = calculatePnL(trades); // Destructure holdings\n  // --- END CHANGE HERE ---\n\n  // --- Updated Loading Indicator for overall dashboard data ---\n  if (loadingData) {\n    return (\n      <div className=\"spinner-container\" style={{ textAlign: 'center', marginTop: '50px', fontSize: '20px' }}>\n        <div className=\"spinner\"></div>\n        <p className=\"spinner-text\">Loading trading dashboard data...</p>\n      </div>\n    );\n  }\n  // --- End Updated Loading Indicator ---\n\n  return (\n    <div style={{ padding: \"1rem 2rem\", fontFamily: \"Arial\", maxWidth: 900, margin: \"auto\", backgroundColor: '#f9f9f9', borderRadius: '8px', boxShadow: '0 2px 10px rgba(0,0,0,0.05)' }}>\n      <h1 style={{ textAlign: 'center', color: '#333' }}>\n        <span role=\"img\" aria-label=\"chart with increasing trend\"></span> Paper Trading Dashboard (US Market)\n      </h1>\n      <pre style={{ \n        backgroundColor: '#eee', \n        padding: '10px', \n        margin: '1rem 0',\n        border: '1px solid black', \n        whiteSpace: 'pre-wrap', \n        wordBreak: 'break-all' \n      }}>\n        <strong>DEBUG INFO:</strong><br />\n        Is 'user' truthy? <strong>{user ? 'Yes' : 'No'}</strong><br />\n        user.id: <strong>{user?.id ?? 'Not Available'}</strong><br />\n        user.email: <strong>{user?.email ?? 'Not Available'}</strong>\n      </pre>\n\n      { user && user.email && <p style={{ textAlign: 'center', color: '#555', marginBottom: '1rem' }}>Logged in as: {user.email} (ID: {user.id})</p> } \n      <p style={{ fontSize: '1.2rem', fontWeight: 'bold', textAlign: 'center', color: '#007bff' }}>Capital: {CURRENCY_SYMBOL}{capital.toFixed(2)}</p>\n      \n      {user && (\n        <div style={{ textAlign: 'center', marginBottom: '1.5rem', display: 'flex', justifyContent: 'center', gap: '1rem' }}>\n          <Link to=\"/portfolio\" style={{\n            padding: '10px 20px',\n            backgroundColor: '#007bff',\n            color: 'white',\n            border: 'none',\n            borderRadius: '5px',\n            cursor: 'pointer',\n            fontSize: '1rem',\n            textDecoration: 'none',\n            transition: 'background-color 0.2s'\n          }}>\n            View Portfolio\n          </Link>\n          <button onClick={handleLogout} style={{ padding: '10px 20px', backgroundColor: '#dc3545', color: 'white', border: 'none', borderRadius: '5px', cursor: 'pointer', fontSize: '1rem', transition: 'background-color 0.2s' }}>\n            Logout\n          </button>\n        </div>\n      )}\n\n      {isInvalidApiKey(FINNHUB_API_KEY) && (\n        <p style={{ color: \"red\", fontWeight: \"bold\", border: \"1px solid red\", padding: \"0.8rem\", margin: \"1.5rem 0\", backgroundColor: '#ffe6e6', borderRadius: '5px' }}>\n          <span role=\"img\" aria-label=\"warning sign\"></span> WARNING: A valid Finnhub API Key is not set in `TradingDataContext.js` or your current key is a free-tier key. \n          Symbol list loading, live prices, and full trading functionality may not work correctly or may be severely limited.\n          Please consider upgrading your Finnhub plan for broader access.\n        </p>\n      )}\n\n      <form style={{ marginBottom: \"2rem\", display: \"flex\", gap: \"0.8rem\", flexWrap: \"wrap\", alignItems: \"center\", border: '1px solid #eee', padding: '1.5rem', borderRadius: '8px', backgroundColor: '#fff' }}>\n        <input\n          name=\"symbol\"\n          placeholder=\"Symbol (e.g., AAPL, MSFT)\"\n          value={form.symbol}\n          onChange={handleChange}\n          required\n          style={{ flex: '1 1 180px', minWidth: '150px', padding: \"10px\", border: \"1px solid #ddd\", borderRadius: \"5px\", fontSize: \"1rem\", textTransform: \"uppercase\" }}\n          list=\"symbols-list\"\n          title=\"Enter US stock symbol, e.g., AAPL, MSFT\"\n        />\n        <datalist id=\"symbols-list\">\n            {availableSymbols.map((sym) => (\n                <option key={sym} value={sym} />\n            ))}\n        </datalist>\n\n        <input\n          name=\"quantity\"\n          type=\"number\"\n          placeholder=\"Quantity\"\n          value={form.quantity}\n          onChange={(e) => setForm({ ...form, quantity: e.target.value })}\n          required\n          min=\"1\"\n          style={{ flex: '0 0 100px', minWidth: '80px', padding: \"10px\", border: \"1px solid #ddd\", borderRadius: \"5px\", fontSize: \"1rem\" }}\n        />\n        <button type=\"button\" onClick={handleBuy} style={{ flex: '0 0 80px', padding: \"10px 15px\", backgroundColor: \"#28a745\", color: \"white\", border: \"none\", cursor: \"pointer\", borderRadius: \"5px\", fontSize: \"1rem\", fontWeight: \"bold\", transition: 'background-color 0.2s' }}>Buy</button>\n        <button type=\"button\" onClick={handleSell} style={{ flex: '0 0 80px', padding: \"10px 15px\", backgroundColor: \"#dc3545\", color: \"white\", border: \"none\", cursor: \"pointer\", borderRadius: \"5px\", fontSize: \"1rem\", fontWeight: \"bold\", transition: 'background-color 0.2s' }}>Sell</button>\n      </form>\n\n      {symbolError && <p style={{ color: \"red\", marginTop: \"0.5rem\", padding: \"0.8rem\", border: \"1px dashed red\", backgroundColor: '#ffe6e6', borderRadius: '5px' }}>\n        <span role=\"img\" aria-label=\"warning sign\"></span> {symbolError}\n      </p>}\n\n      {/* NEW SECTION: SELECTED STOCK INFORMATION & HISTORY */}\n      {form.symbol && ( // Only show this section if a symbol is typed\n        <div style={{ marginTop: '2rem', padding: '1.5rem', border: '1px solid #ddd', borderRadius: '8px', backgroundColor: '#fff' }}>\n          <h2 style={{ color: '#333', marginBottom: '1rem' }}>\n            Information for: {form.symbol.toUpperCase()} {livePrices[form.symbol.toUpperCase()] ? `(${CURRENCY_SYMBOL}${livePrices[form.symbol.toUpperCase()].toFixed(2)})` : ''}\n          </h2>\n\n          {/* Updated Loading Indicator for stock info */}\n          {stockInfoLoading && (\n            <div className=\"spinner-container\">\n              <div className=\"spinner\"></div>\n              <p className=\"spinner-text\">Loading stock details...</p>\n            </div>\n          )}\n          {/* End Updated Loading Indicator */}\n\n          {stockInfoError && <p style={{ color: \"red\", border: \"1px dashed red\", padding: \"0.8rem\", borderRadius: \"5px\", backgroundColor: '#ffe6e6' }}>\n            <span role=\"img\" aria-label=\"error\"></span> {stockInfoError}\n          </p>}\n\n          {!stockInfoLoading && !stockInfoError && companyProfile && (\n            <div style={{ marginBottom: '1.5rem' }}>\n              <h3 style={{ color: '#555', borderBottom: '1px solid #eee', paddingBottom: '0.5rem', marginBottom: '1rem' }}>Company Profile</h3>\n              <p><strong>Name:</strong> {companyProfile.name || 'N/A'}</p>\n              <p><strong>Exchange:</strong> {companyProfile.exchange || 'N/A'}</p>\n              <p><strong>Industry:</strong> {companyProfile.finnhubIndustry || 'N/A'}</p>\n              <p><strong>IPO Date:</strong> {companyProfile.ipo || 'N/A'}</p>\n              <p><strong>Market Cap:</strong> {companyProfile.marketCapitalization ? `${CURRENCY_SYMBOL}${companyProfile.marketCapitalization.toFixed(2)}B` : 'N/A'}</p> {/* Added 'B' for billion */}\n              {companyProfile.weburl && <p><strong>Website:</strong> <a href={companyProfile.weburl} target=\"_blank\" rel=\"noopener noreferrer\">{companyProfile.weburl}</a></p>}\n            </div>\n          )}\n\n          {!stockInfoLoading && !stockInfoError && quoteDetails && (\n            <div style={{ marginBottom: '1.5rem' }}>\n              <h3 style={{ color: '#555', borderBottom: '1px solid #eee', paddingBottom: '0.5rem', marginBottom: '1rem' }}>Daily Quote</h3>\n              <p><strong>Open:</strong> {quoteDetails.o ? `${CURRENCY_SYMBOL}${quoteDetails.o.toFixed(2)}` : 'N/A'}</p>\n              <p><strong>High:</strong> {quoteDetails.h ? `${CURRENCY_SYMBOL}${quoteDetails.h.toFixed(2)}` : 'N/A'}</p>\n              <p><strong>Low:</strong> {quoteDetails.l ? `${CURRENCY_SYMBOL}${quoteDetails.l.toFixed(2)}` : 'N/A'}</p>\n              <p><strong>Previous Close:</strong> {quoteDetails.pc ? `${CURRENCY_SYMBOL}${quoteDetails.pc.toFixed(2)}` : 'N/A'}</p>\n              <p><strong>Change:</strong> <span style={{ color: quoteDetails.d >= 0 ? \"green\" : \"red\" }}>{quoteDetails.d ? `${CURRENCY_SYMBOL}${quoteDetails.d.toFixed(2)}` : 'N/A'}</span></p>\n              <p><strong>Percent Change:</strong> <span style={{ color: quoteDetails.dp >= 0 ? \"green\" : \"red\" }}>{quoteDetails.dp ? `${quoteDetails.dp.toFixed(2)}%` : 'N/A'}</span></p>\n            </div>\n          )}\n\n          {!stockInfoLoading && !stockInfoError && historicalChartData.length > 0 ? (\n            <div>\n              <h3 style={{ color: '#555', borderBottom: '1px solid #eee', paddingBottom: '0.5rem', marginBottom: '1rem' }}>6-Month Price History</h3>\n              <ResponsiveContainer width=\"100%\" height={250}>\n                <LineChart data={historicalChartData} margin={{ top: 5, right: 10, left: 0, bottom: 5 }}>\n                  <CartesianGrid strokeDasharray=\"3 3\" />\n                  <XAxis dataKey=\"date\" interval={Math.floor(historicalChartData.length / 5)} /> {/* Show fewer labels for readability */}\n                  <YAxis domain={['dataMin', 'dataMax']} tickFormatter={(value) => `${CURRENCY_SYMBOL}${value.toFixed(2)}`}/>\n                  <Tooltip \n                    formatter={(value) => [`${CURRENCY_SYMBOL}${Number(value).toFixed(2)}`, 'Close Price']}\n                    labelFormatter={(label) => `Date: ${label}`}\n                  />\n                  <Legend />\n                  <Line type=\"monotone\" dataKey=\"price\" stroke=\"#8884d8\" dot={false} activeDot={{ r: 8 }} name=\"Close Price\" />\n                </LineChart>\n              </ResponsiveContainer>\n              <p style={{textAlign: 'center', fontSize: '0.9em', color: '#777'}}>Showing daily close prices for the last 6 months.</p>\n            </div>\n          ) : !stockInfoLoading && !stockInfoError && <p style={{ color: '#666' }}>No historical data available for this symbol.</p>}\n        </div>\n      )}\n      {/* END NEW SECTION */}\n\n      <h2 style={{ color: '#333', marginTop: '2rem', marginBottom: '1rem' }}>Live Prices (US Stocks)</h2>\n      {Object.keys(livePrices).filter(sym => livePrices[sym] !== null && typeof livePrices[sym] === 'number' && livePrices[sym] > 0).length > 0 ? (\n        <ul style={{ listStyleType: \"none\", paddingLeft: 0, columns: 2, columnGap: \"20px\", border: '1px solid #eee', padding: '1.5rem', borderRadius: '8px', backgroundColor: '#fff' }}>\n          {Object.entries(livePrices).map(([sym, price]) =>\n             (price !== null && typeof price === 'number' && price > 0) ? ( \n              <li key={sym} style={{ padding: \"0.5rem 0\", borderBottom: \"1px solid #eee\", display: 'flex', justifyContent: 'space-between' }}>\n                <span style={{fontWeight: 'bold'}}>{sym}</span>: <span>{CURRENCY_SYMBOL}{price.toFixed(2)}</span>\n              </li>\n            ) : null\n          )}\n        </ul>\n      ) : (\n        <p style={{ color: '#666', border: '1px dashed #ccc', padding: '1rem', borderRadius: '5px', backgroundColor: '#fff' }}>No live prices for US stocks currently displayed. Ensure your API key is valid and type a valid US ticker (e.g. AAPL).</p>\n      )}\n\n      <h2 style={{ color: '#333', marginTop: '2rem', marginBottom: '1rem' }}>Trade History</h2>\n      {trades.length > 0 ? (\n        <table style={{ width: \"100%\", borderCollapse: \"collapse\", marginBottom: \"2rem\", border: '1px solid #ddd', borderRadius: '8px', overflow: 'hidden' }}>\n          <thead style={{backgroundColor: \"#eef\", color: '#333'}}>\n            <tr>\n              <th style={{ padding: '12px', textAlign: 'left', borderBottom: '1px solid #ddd' }}>Symbol</th>\n              <th style={{ padding: '12px', textAlign: 'left', borderBottom: '1px solid #ddd' }}>Qty</th>\n              <th style={{ padding: '12px', textAlign: 'left', borderBottom: '1px solid #ddd' }}>Price</th>\n              <th style={{ padding: '12px', textAlign: 'left', borderBottom: '1px solid #ddd' }}>Type</th>\n              <th style={{ padding: '12px', textAlign: 'left', borderBottom: '1px solid #ddd' }}>Time</th>\n            </tr>\n          </thead>\n          <tbody>\n            {trades.map((t) => (\n              <tr key={t.id} style={{ backgroundColor: t.type === 'buy' ? '#e6ffe6' : '#ffe6e6' }}>\n                <td style={{ padding: '12px', borderBottom: '1px solid #eee' }}>{t.symbol}</td>\n                <td style={{ padding: '12px', borderBottom: '1px solid #eee' }}>{t.quantity}</td>\n                <td style={{ padding: '12px', borderBottom: '1px solid #eee' }}>{CURRENCY_SYMBOL}{Number(t.price).toFixed(2)}</td>\n                <td style={{ padding: '12px', borderBottom: '1px solid #eee', color: t.type === \"buy\" ? \"green\" : \"red\", textTransform: \"capitalize\", fontWeight: 'bold'}}>{t.type}</td>\n                <td style={{ padding: '12px', borderBottom: '1px solid #eee', fontSize: '0.9em', color: '#666'}}>{new Date(t.created_at).toLocaleString()}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      ) : (<p style={{ color: '#666', border: '1px dashed #ccc', padding: '1rem', borderRadius: '5px', backgroundColor: '#fff' }}>No trades made yet.</p>)}\n\n      <h2 style={{ color: '#333', marginTop: '2rem', marginBottom: '1rem' }}>Holdings & Profit/Loss (Live)</h2>\n      {/* Ensure holdingsData is an array before filtering */}\n      {holdingsData.filter(row => row.netQty > 0).length > 0 ? ( \n        <table style={{ width: \"100%\", borderCollapse: \"collapse\", marginBottom: \"2rem\", border: '1px solid #ddd', borderRadius: '8px', overflow: 'hidden' }}>\n          <thead style={{backgroundColor: \"#eef\", color: '#333'}}>\n            <tr>\n              <th style={{ padding: '12px', textAlign: 'left', borderBottom: '1px solid #ddd' }}>Symbol</th>\n              <th style={{ padding: '12px', textAlign: 'left', borderBottom: '1px solid #ddd' }}>Net Qty Held</th>\n              <th style={{ padding: '12px', textAlign: 'left', borderBottom: '1px solid #ddd' }}>Avg. Buy Price</th>\n              <th style={{ padding: '12px', textAlign: 'left', borderBottom: '1px solid #ddd' }}>Live P&L</th>\n            </tr>\n          </thead>\n          <tbody>\n            {holdingsData.filter(row => row.netQty > 0).map((row) => (\n              <tr key={row.symbol} style={{ backgroundColor: parseFloat(row.unrealizedPnl) >= 0 ? '#e6ffe6' : '#ffe6e6' }}>\n                <td style={{ padding: '12px', borderBottom: '1px solid #eee' }}>{row.symbol}</td>\n                <td style={{ padding: '12px', borderBottom: '1px solid #eee' }}>{row.netQty}</td>\n                <td style={{ padding: '12px', borderBottom: '1px solid #eee' }}>{CURRENCY_SYMBOL}{row.avgBuyPrice}</td>\n                <td style={{ padding: '12px', borderBottom: '1px solid #eee', color: parseFloat(row.unrealizedPnl) >= 0 ? \"green\" : \"red\", fontWeight: 'bold' }}>\n                  {CURRENCY_SYMBOL}{row.unrealizedPnl}\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      ) : (<p style={{ color: '#666', border: '1px dashed #ccc', padding: '1rem', borderRadius: '5px', backgroundColor: '#fff' }}>No current holdings or live P&L to display.</p>)}\n\n      <h2 style={{ color: '#333', marginTop: '2rem', marginBottom: '1rem' }}>P&L Chart (Live)</h2>\n      {/* Ensure holdingsData is an array before filtering */}\n      {holdingsData.filter(p => parseFloat(p.unrealizedPnl) !== 0).length > 0 ? (\n        <ResponsiveContainer width=\"100%\" height={300}>\n          <BarChart data={holdingsData.filter(p => parseFloat(p.unrealizedPnl) !== 0)} margin={{ top: 5, right: 30, left: 20, bottom: 5 }}> \n            <CartesianGrid strokeDasharray=\"3 3\" />\n            <XAxis dataKey=\"symbol\" />\n            <YAxis tickFormatter={(value) => `${CURRENCY_SYMBOL}${value}`}/>\n            <Tooltip \n              formatter={(value) => [`${CURRENCY_SYMBOL}${Number(value).toFixed(2)}`, 'Live P&L']}\n              labelFormatter={(label) => `Symbol: ${label}`}\n            />\n            <Legend />\n            <Bar dataKey=\"unrealizedPnl\" name=\"Live P&L\">\n              {holdingsData.filter(p => parseFloat(p.unrealizedPnl) !== 0).map((entry, index) => (\n                <Cell key={`cell-${index}`} fill={parseFloat(entry.unrealizedPnl) >= 0 ? \"#4caf50\" : \"#f44336\"} />\n              ))}\n            </Bar>\n          </BarChart>\n        </ResponsiveContainer>\n      ) : (<p style={{ color: '#666', border: '1px dashed #ccc', padding: '1rem', borderRadius: '5px', backgroundColor: '#fff' }}>No live P&L to chart.</p>)}\n    </div>\n  );\n}\n\nexport default TradingDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}