{"ast":null,"code":"var _jsxFileName = \"/Users/aryansrivastava/projects/Paper-Trading-Portal/src/pages/StockDetailsPage.js\",\n  _s = $RefreshSig$();\n// src/pages/StockDetailsPage.js\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport axios from 'axios';\nimport StockChart from '../components/StockChart'; // Assuming StockChart.js is in ../components/\nimport { FINNHUB_API_KEY, isInvalidApiKey, CURRENCY_SYMBOL } from '../TradingDataContext'; // Import global constants\nimport { useTradingData } from '../TradingDataContext'; // To access live prices and watchlist functions\n\nimport './StockDetailsPage.css'; // Assuming you'll create a CSS file for this page\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction StockDetailsPage() {\n  _s();\n  const {\n    symbol\n  } = useParams(); // Get symbol from URL, e.g., /stocks/AAPL\n  const {\n    livePrices,\n    watchListSymbols,\n    addToWatchlist,\n    removeFromWatchlist\n  } = useTradingData(); // Get live prices and watchlist functions from context\n\n  const [companyProfile, setCompanyProfile] = useState(null);\n  const [quoteDetails, setQuoteDetails] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [watchlistActionMessage, setWatchlistActionMessage] = useState(null);\n\n  // Check if the current stock is in the watchlist\n  const isInWatchlist = watchListSymbols.includes(symbol);\n\n  // Fetch Company Profile and Quote Details\n  const fetchStockDetails = useCallback(async () => {\n    if (!symbol) {\n      setError(\"No stock symbol provided.\");\n      setLoading(false);\n      return;\n    }\n    if (isInvalidApiKey(FINNHUB_API_KEY)) {\n      setError(\"Invalid Finnhub API Key. Cannot fetch stock details.\");\n      setLoading(false);\n      return;\n    }\n    setLoading(true);\n    setError(null);\n    setCompanyProfile(null);\n    setQuoteDetails(null);\n    try {\n      // Fetch Company Profile\n      const profileResponse = await axios.get(`https://finnhub.io/api/v1/stock/profile2?symbol=${symbol}&token=${FINNHUB_API_KEY}`);\n      if (profileResponse.data && Object.keys(profileResponse.data).length > 0) {\n        setCompanyProfile(profileResponse.data);\n      } else {\n        // If no profile data, it might still be a valid ticker but no detailed profile available\n        console.warn(`No detailed company profile found for ${symbol}.`);\n        setCompanyProfile({}); // Set to empty object to indicate data fetched but empty\n      }\n\n      // Fetch Quote Details\n      const quoteResponse = await axios.get(`https://finnhub.io/api/v1/quote?symbol=${symbol}&token=${FINNHUB_API_KEY}`);\n      if (quoteResponse.data && quoteResponse.data.c !== 0) {\n        // c=0 often means no data\n        setQuoteDetails(quoteResponse.data);\n      } else {\n        console.warn(`No live quote data found for ${symbol}.`);\n        setQuoteDetails(null); // Explicitly null if no meaningful data\n      }\n    } catch (err) {\n      console.error(\"Error fetching stock details:\", err);\n      setError(`Failed to load details for ${symbol}. Please check the symbol and your API key. (${err.message})`);\n    } finally {\n      setLoading(false);\n    }\n  }, [symbol, isInvalidApiKey, FINNHUB_API_KEY]); // Dependencies: symbol, and the imported constants/functions\n\n  useEffect(() => {\n    fetchStockDetails();\n  }, [fetchStockDetails]); // Dependency on useCallback memoized function\n\n  const handleToggleWatchlist = useCallback(async () => {\n    setWatchlistActionMessage(null);\n    try {\n      if (isInWatchlist) {\n        await removeFromWatchlist(symbol);\n        setWatchlistActionMessage({\n          type: 'success',\n          text: `${symbol} removed from watchlist.`\n        });\n      } else {\n        await addToWatchlist(symbol);\n        setWatchlistActionMessage({\n          type: 'success',\n          text: `${symbol} added to watchlist.`\n        });\n      }\n    } catch (err) {\n      setWatchlistActionMessage({\n        type: 'error',\n        text: `Failed to update watchlist for ${symbol}: ${err.message}`\n      });\n      console.error(\"Watchlist update error:\", err);\n    }\n  }, [symbol, isInWatchlist, addToWatchlist, removeFromWatchlist]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stock-details-container loading\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Loading stock details for \", symbol, \"...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stock-details-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"message error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        className: \"btn btn-secondary\",\n        children: \"Go to Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this);\n  }\n  const currentPrice = livePrices[symbol] || (quoteDetails ? quoteDetails.c : 'N/A');\n  const change = quoteDetails ? quoteDetails.d : 'N/A';\n  const percentChange = quoteDetails ? quoteDetails.dp : 'N/A';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"stock-details-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stock-details-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [symbol, \" - \", (companyProfile === null || companyProfile === void 0 ? void 0 : companyProfile.name) || 'N/A']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stock-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleToggleWatchlist,\n          className: `btn ${isInWatchlist ? 'btn-danger' : 'btn-primary'}`,\n          children: isInWatchlist ? 'Remove from Watchlist' : 'Add to Watchlist'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          className: \"btn btn-secondary\",\n          children: \"Back to Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }, this), watchlistActionMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: `message ${watchlistActionMessage.type === 'success' ? 'success-message' : 'error-message'}`,\n      children: watchlistActionMessage.text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"stock-summary-card card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Summary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Current Price:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 26\n          }, this), \" \", CURRENCY_SYMBOL, typeof currentPrice === 'number' ? currentPrice.toFixed(2) : currentPrice]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Daily Change:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: parseFloat(change) >= 0 ? 'text-green' : 'text-red',\n            children: typeof change === 'number' ? `${CURRENCY_SYMBOL}${change.toFixed(2)}` : change\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Percent Change:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: parseFloat(percentChange) >= 0 ? 'text-green' : 'text-red',\n            children: typeof percentChange === 'number' ? `${percentChange.toFixed(2)}%` : percentChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 21\n        }, this), companyProfile && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Market Cap:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 34\n            }, this), \" \", companyProfile.marketCapitalization ? `${(companyProfile.marketCapitalization / 1000000000).toFixed(2)}B` : 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Exchange:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 34\n            }, this), \" \", companyProfile.exchange || 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Industry:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 34\n            }, this), \" \", companyProfile.finnhubIndustry || 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }, this), (companyProfile === null || companyProfile === void 0 ? void 0 : companyProfile.weburl) && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"company-website\",\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: companyProfile.weburl,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: \"Visit Company Website\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"stock-chart-section card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Historical Price Chart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(StockChart, {\n        symbol: symbol\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 13\n    }, this), companyProfile && /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"stock-about-card card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"About \", companyProfile.name || symbol]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: companyProfile.description || 'No description available.'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 9\n  }, this);\n}\n_s(StockDetailsPage, \"4btG1jwECJI+aYZftEPZ866280Y=\", false, function () {\n  return [useParams, useTradingData];\n});\n_c = StockDetailsPage;\nexport default StockDetailsPage;\nvar _c;\n$RefreshReg$(_c, \"StockDetailsPage\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useParams","Link","axios","StockChart","FINNHUB_API_KEY","isInvalidApiKey","CURRENCY_SYMBOL","useTradingData","jsxDEV","_jsxDEV","Fragment","_Fragment","StockDetailsPage","_s","symbol","livePrices","watchListSymbols","addToWatchlist","removeFromWatchlist","companyProfile","setCompanyProfile","quoteDetails","setQuoteDetails","loading","setLoading","error","setError","watchlistActionMessage","setWatchlistActionMessage","isInWatchlist","includes","fetchStockDetails","profileResponse","get","data","Object","keys","length","console","warn","quoteResponse","c","err","message","handleToggleWatchlist","type","text","className","children","fileName","_jsxFileName","lineNumber","columnNumber","to","currentPrice","change","d","percentChange","dp","name","onClick","toFixed","parseFloat","marketCapitalization","exchange","finnhubIndustry","weburl","href","target","rel","description","_c","$RefreshReg$"],"sources":["/Users/aryansrivastava/projects/Paper-Trading-Portal/src/pages/StockDetailsPage.js"],"sourcesContent":["// src/pages/StockDetailsPage.js\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport axios from 'axios';\nimport StockChart from '../components/StockChart'; // Assuming StockChart.js is in ../components/\nimport { FINNHUB_API_KEY, isInvalidApiKey, CURRENCY_SYMBOL } from '../TradingDataContext'; // Import global constants\nimport { useTradingData } from '../TradingDataContext'; // To access live prices and watchlist functions\n\nimport './StockDetailsPage.css'; // Assuming you'll create a CSS file for this page\n\nfunction StockDetailsPage() {\n    const { symbol } = useParams(); // Get symbol from URL, e.g., /stocks/AAPL\n    const { livePrices, watchListSymbols, addToWatchlist, removeFromWatchlist } = useTradingData(); // Get live prices and watchlist functions from context\n\n    const [companyProfile, setCompanyProfile] = useState(null);\n    const [quoteDetails, setQuoteDetails] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    const [watchlistActionMessage, setWatchlistActionMessage] = useState(null);\n\n    // Check if the current stock is in the watchlist\n    const isInWatchlist = watchListSymbols.includes(symbol);\n\n    // Fetch Company Profile and Quote Details\n    const fetchStockDetails = useCallback(async () => {\n        if (!symbol) {\n            setError(\"No stock symbol provided.\");\n            setLoading(false);\n            return;\n        }\n\n        if (isInvalidApiKey(FINNHUB_API_KEY)) {\n            setError(\"Invalid Finnhub API Key. Cannot fetch stock details.\");\n            setLoading(false);\n            return;\n        }\n\n        setLoading(true);\n        setError(null);\n        setCompanyProfile(null);\n        setQuoteDetails(null);\n\n        try {\n            // Fetch Company Profile\n            const profileResponse = await axios.get(\n                `https://finnhub.io/api/v1/stock/profile2?symbol=${symbol}&token=${FINNHUB_API_KEY}`\n            );\n            if (profileResponse.data && Object.keys(profileResponse.data).length > 0) {\n                setCompanyProfile(profileResponse.data);\n            } else {\n                // If no profile data, it might still be a valid ticker but no detailed profile available\n                console.warn(`No detailed company profile found for ${symbol}.`);\n                setCompanyProfile({}); // Set to empty object to indicate data fetched but empty\n            }\n\n            // Fetch Quote Details\n            const quoteResponse = await axios.get(\n                `https://finnhub.io/api/v1/quote?symbol=${symbol}&token=${FINNHUB_API_KEY}`\n            );\n            if (quoteResponse.data && quoteResponse.data.c !== 0) { // c=0 often means no data\n                setQuoteDetails(quoteResponse.data);\n            } else {\n                console.warn(`No live quote data found for ${symbol}.`);\n                setQuoteDetails(null); // Explicitly null if no meaningful data\n            }\n\n        } catch (err) {\n            console.error(\"Error fetching stock details:\", err);\n            setError(`Failed to load details for ${symbol}. Please check the symbol and your API key. (${err.message})`);\n        } finally {\n            setLoading(false);\n        }\n    }, [symbol, isInvalidApiKey, FINNHUB_API_KEY]); // Dependencies: symbol, and the imported constants/functions\n\n    useEffect(() => {\n        fetchStockDetails();\n    }, [fetchStockDetails]); // Dependency on useCallback memoized function\n\n    const handleToggleWatchlist = useCallback(async () => {\n        setWatchlistActionMessage(null);\n        try {\n            if (isInWatchlist) {\n                await removeFromWatchlist(symbol);\n                setWatchlistActionMessage({ type: 'success', text: `${symbol} removed from watchlist.` });\n            } else {\n                await addToWatchlist(symbol);\n                setWatchlistActionMessage({ type: 'success', text: `${symbol} added to watchlist.` });\n            }\n        } catch (err) {\n            setWatchlistActionMessage({ type: 'error', text: `Failed to update watchlist for ${symbol}: ${err.message}` });\n            console.error(\"Watchlist update error:\", err);\n        }\n    }, [symbol, isInWatchlist, addToWatchlist, removeFromWatchlist]);\n\n\n    if (loading) {\n        return (\n            <div className=\"stock-details-container loading\">\n                <div className=\"spinner\"></div>\n                <p>Loading stock details for {symbol}...</p>\n            </div>\n        );\n    }\n\n    if (error) {\n        return (\n            <div className=\"stock-details-container\">\n                <p className=\"message error-message\">{error}</p>\n                <Link to=\"/\" className=\"btn btn-secondary\">Go to Dashboard</Link>\n            </div>\n        );\n    }\n\n    const currentPrice = livePrices[symbol] || (quoteDetails ? quoteDetails.c : 'N/A');\n    const change = quoteDetails ? quoteDetails.d : 'N/A';\n    const percentChange = quoteDetails ? quoteDetails.dp : 'N/A';\n\n    return (\n        <div className=\"stock-details-container\">\n            <div className=\"stock-details-header\">\n                <h1>{symbol} - {companyProfile?.name || 'N/A'}</h1>\n                <div className=\"stock-actions\">\n                    <button\n                        onClick={handleToggleWatchlist}\n                        className={`btn ${isInWatchlist ? 'btn-danger' : 'btn-primary'}`}\n                    >\n                        {isInWatchlist ? 'Remove from Watchlist' : 'Add to Watchlist'}\n                    </button>\n                    <Link to=\"/\" className=\"btn btn-secondary\">Back to Dashboard</Link>\n                </div>\n            </div>\n\n            {watchlistActionMessage && (\n                <p className={`message ${watchlistActionMessage.type === 'success' ? 'success-message' : 'error-message'}`}>\n                    {watchlistActionMessage.text}\n                </p>\n            )}\n\n            <section className=\"stock-summary-card card\">\n                <h2>Summary</h2>\n                <div className=\"summary-grid\">\n                    <div><strong>Current Price:</strong> {CURRENCY_SYMBOL}{typeof currentPrice === 'number' ? currentPrice.toFixed(2) : currentPrice}</div>\n                    <div><strong>Daily Change:</strong>\n                        <span className={parseFloat(change) >= 0 ? 'text-green' : 'text-red'}>\n                            {typeof change === 'number' ? `${CURRENCY_SYMBOL}${change.toFixed(2)}` : change}\n                        </span>\n                    </div>\n                    <div><strong>Percent Change:</strong>\n                        <span className={parseFloat(percentChange) >= 0 ? 'text-green' : 'text-red'}>\n                            {typeof percentChange === 'number' ? `${percentChange.toFixed(2)}%` : percentChange}\n                        </span>\n                    </div>\n                    {companyProfile && (\n                        <>\n                            <div><strong>Market Cap:</strong> {companyProfile.marketCapitalization ? `${(companyProfile.marketCapitalization / 1000000000).toFixed(2)}B` : 'N/A'}</div>\n                            <div><strong>Exchange:</strong> {companyProfile.exchange || 'N/A'}</div>\n                            <div><strong>Industry:</strong> {companyProfile.finnhubIndustry || 'N/A'}</div>\n                        </>\n                    )}\n                </div>\n                {companyProfile?.weburl && (\n                    <p className=\"company-website\">\n                        <a href={companyProfile.weburl} target=\"_blank\" rel=\"noopener noreferrer\">\n                            Visit Company Website\n                        </a>\n                    </p>\n                )}\n            </section>\n\n            <section className=\"stock-chart-section card\">\n                <h2>Historical Price Chart</h2>\n                {/* Render the StockChart component */}\n                <StockChart symbol={symbol} />\n            </section>\n\n            {companyProfile && (\n                <section className=\"stock-about-card card\">\n                    <h2>About {companyProfile.name || symbol}</h2>\n                    <p>{companyProfile.description || 'No description available.'}</p>\n                </section>\n            )}\n\n            {/* Add more sections as needed, e.g., News, Financials */}\n\n        </div>\n    );\n}\n\nexport default StockDetailsPage;"],"mappings":";;AAAA;;AAEA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AAC/D,SAASC,SAAS,EAAEC,IAAI,QAAQ,kBAAkB;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,UAAU,MAAM,0BAA0B,CAAC,CAAC;AACnD,SAASC,eAAe,EAAEC,eAAe,EAAEC,eAAe,QAAQ,uBAAuB,CAAC,CAAC;AAC3F,SAASC,cAAc,QAAQ,uBAAuB,CAAC,CAAC;;AAExD,OAAO,wBAAwB,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEjC,SAASC,gBAAgBA,CAAA,EAAG;EAAAC,EAAA;EACxB,MAAM;IAAEC;EAAO,CAAC,GAAGd,SAAS,CAAC,CAAC,CAAC,CAAC;EAChC,MAAM;IAAEe,UAAU;IAAEC,gBAAgB;IAAEC,cAAc;IAAEC;EAAoB,CAAC,GAAGX,cAAc,CAAC,CAAC,CAAC,CAAC;;EAEhG,MAAM,CAACY,cAAc,EAAEC,iBAAiB,CAAC,GAAGvB,QAAQ,CAAC,IAAI,CAAC;EAC1D,MAAM,CAACwB,YAAY,EAAEC,eAAe,CAAC,GAAGzB,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAAC0B,OAAO,EAAEC,UAAU,CAAC,GAAG3B,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAAC4B,KAAK,EAAEC,QAAQ,CAAC,GAAG7B,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAAC8B,sBAAsB,EAAEC,yBAAyB,CAAC,GAAG/B,QAAQ,CAAC,IAAI,CAAC;;EAE1E;EACA,MAAMgC,aAAa,GAAGb,gBAAgB,CAACc,QAAQ,CAAChB,MAAM,CAAC;;EAEvD;EACA,MAAMiB,iBAAiB,GAAGhC,WAAW,CAAC,YAAY;IAC9C,IAAI,CAACe,MAAM,EAAE;MACTY,QAAQ,CAAC,2BAA2B,CAAC;MACrCF,UAAU,CAAC,KAAK,CAAC;MACjB;IACJ;IAEA,IAAInB,eAAe,CAACD,eAAe,CAAC,EAAE;MAClCsB,QAAQ,CAAC,sDAAsD,CAAC;MAChEF,UAAU,CAAC,KAAK,CAAC;MACjB;IACJ;IAEAA,UAAU,CAAC,IAAI,CAAC;IAChBE,QAAQ,CAAC,IAAI,CAAC;IACdN,iBAAiB,CAAC,IAAI,CAAC;IACvBE,eAAe,CAAC,IAAI,CAAC;IAErB,IAAI;MACA;MACA,MAAMU,eAAe,GAAG,MAAM9B,KAAK,CAAC+B,GAAG,CACnC,mDAAmDnB,MAAM,UAAUV,eAAe,EACtF,CAAC;MACD,IAAI4B,eAAe,CAACE,IAAI,IAAIC,MAAM,CAACC,IAAI,CAACJ,eAAe,CAACE,IAAI,CAAC,CAACG,MAAM,GAAG,CAAC,EAAE;QACtEjB,iBAAiB,CAACY,eAAe,CAACE,IAAI,CAAC;MAC3C,CAAC,MAAM;QACH;QACAI,OAAO,CAACC,IAAI,CAAC,yCAAyCzB,MAAM,GAAG,CAAC;QAChEM,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC3B;;MAEA;MACA,MAAMoB,aAAa,GAAG,MAAMtC,KAAK,CAAC+B,GAAG,CACjC,0CAA0CnB,MAAM,UAAUV,eAAe,EAC7E,CAAC;MACD,IAAIoC,aAAa,CAACN,IAAI,IAAIM,aAAa,CAACN,IAAI,CAACO,CAAC,KAAK,CAAC,EAAE;QAAE;QACpDnB,eAAe,CAACkB,aAAa,CAACN,IAAI,CAAC;MACvC,CAAC,MAAM;QACHI,OAAO,CAACC,IAAI,CAAC,gCAAgCzB,MAAM,GAAG,CAAC;QACvDQ,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC;MAC3B;IAEJ,CAAC,CAAC,OAAOoB,GAAG,EAAE;MACVJ,OAAO,CAACb,KAAK,CAAC,+BAA+B,EAAEiB,GAAG,CAAC;MACnDhB,QAAQ,CAAC,8BAA8BZ,MAAM,gDAAgD4B,GAAG,CAACC,OAAO,GAAG,CAAC;IAChH,CAAC,SAAS;MACNnB,UAAU,CAAC,KAAK,CAAC;IACrB;EACJ,CAAC,EAAE,CAACV,MAAM,EAAET,eAAe,EAAED,eAAe,CAAC,CAAC,CAAC,CAAC;;EAEhDN,SAAS,CAAC,MAAM;IACZiC,iBAAiB,CAAC,CAAC;EACvB,CAAC,EAAE,CAACA,iBAAiB,CAAC,CAAC,CAAC,CAAC;;EAEzB,MAAMa,qBAAqB,GAAG7C,WAAW,CAAC,YAAY;IAClD6B,yBAAyB,CAAC,IAAI,CAAC;IAC/B,IAAI;MACA,IAAIC,aAAa,EAAE;QACf,MAAMX,mBAAmB,CAACJ,MAAM,CAAC;QACjCc,yBAAyB,CAAC;UAAEiB,IAAI,EAAE,SAAS;UAAEC,IAAI,EAAE,GAAGhC,MAAM;QAA2B,CAAC,CAAC;MAC7F,CAAC,MAAM;QACH,MAAMG,cAAc,CAACH,MAAM,CAAC;QAC5Bc,yBAAyB,CAAC;UAAEiB,IAAI,EAAE,SAAS;UAAEC,IAAI,EAAE,GAAGhC,MAAM;QAAuB,CAAC,CAAC;MACzF;IACJ,CAAC,CAAC,OAAO4B,GAAG,EAAE;MACVd,yBAAyB,CAAC;QAAEiB,IAAI,EAAE,OAAO;QAAEC,IAAI,EAAE,kCAAkChC,MAAM,KAAK4B,GAAG,CAACC,OAAO;MAAG,CAAC,CAAC;MAC9GL,OAAO,CAACb,KAAK,CAAC,yBAAyB,EAAEiB,GAAG,CAAC;IACjD;EACJ,CAAC,EAAE,CAAC5B,MAAM,EAAEe,aAAa,EAAEZ,cAAc,EAAEC,mBAAmB,CAAC,CAAC;EAGhE,IAAIK,OAAO,EAAE;IACT,oBACId,OAAA;MAAKsC,SAAS,EAAC,iCAAiC;MAAAC,QAAA,gBAC5CvC,OAAA;QAAKsC,SAAS,EAAC;MAAS;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAC/B3C,OAAA;QAAAuC,QAAA,GAAG,4BAA0B,EAAClC,MAAM,EAAC,KAAG;MAAA;QAAAmC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3C,CAAC;EAEd;EAEA,IAAI3B,KAAK,EAAE;IACP,oBACIhB,OAAA;MAAKsC,SAAS,EAAC,yBAAyB;MAAAC,QAAA,gBACpCvC,OAAA;QAAGsC,SAAS,EAAC,uBAAuB;QAAAC,QAAA,EAAEvB;MAAK;QAAAwB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAChD3C,OAAA,CAACR,IAAI;QAACoD,EAAE,EAAC,GAAG;QAACN,SAAS,EAAC,mBAAmB;QAAAC,QAAA,EAAC;MAAe;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAChE,CAAC;EAEd;EAEA,MAAME,YAAY,GAAGvC,UAAU,CAACD,MAAM,CAAC,KAAKO,YAAY,GAAGA,YAAY,CAACoB,CAAC,GAAG,KAAK,CAAC;EAClF,MAAMc,MAAM,GAAGlC,YAAY,GAAGA,YAAY,CAACmC,CAAC,GAAG,KAAK;EACpD,MAAMC,aAAa,GAAGpC,YAAY,GAAGA,YAAY,CAACqC,EAAE,GAAG,KAAK;EAE5D,oBACIjD,OAAA;IAAKsC,SAAS,EAAC,yBAAyB;IAAAC,QAAA,gBACpCvC,OAAA;MAAKsC,SAAS,EAAC,sBAAsB;MAAAC,QAAA,gBACjCvC,OAAA;QAAAuC,QAAA,GAAKlC,MAAM,EAAC,KAAG,EAAC,CAAAK,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAEwC,IAAI,KAAI,KAAK;MAAA;QAAAV,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACnD3C,OAAA;QAAKsC,SAAS,EAAC,eAAe;QAAAC,QAAA,gBAC1BvC,OAAA;UACImD,OAAO,EAAEhB,qBAAsB;UAC/BG,SAAS,EAAE,OAAOlB,aAAa,GAAG,YAAY,GAAG,aAAa,EAAG;UAAAmB,QAAA,EAEhEnB,aAAa,GAAG,uBAAuB,GAAG;QAAkB;UAAAoB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzD,CAAC,eACT3C,OAAA,CAACR,IAAI;UAACoD,EAAE,EAAC,GAAG;UAACN,SAAS,EAAC,mBAAmB;UAAAC,QAAA,EAAC;QAAiB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,EAELzB,sBAAsB,iBACnBlB,OAAA;MAAGsC,SAAS,EAAE,WAAWpB,sBAAsB,CAACkB,IAAI,KAAK,SAAS,GAAG,iBAAiB,GAAG,eAAe,EAAG;MAAAG,QAAA,EACtGrB,sBAAsB,CAACmB;IAAI;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7B,CACN,eAED3C,OAAA;MAASsC,SAAS,EAAC,yBAAyB;MAAAC,QAAA,gBACxCvC,OAAA;QAAAuC,QAAA,EAAI;MAAO;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAChB3C,OAAA;QAAKsC,SAAS,EAAC,cAAc;QAAAC,QAAA,gBACzBvC,OAAA;UAAAuC,QAAA,gBAAKvC,OAAA;YAAAuC,QAAA,EAAQ;UAAc;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,KAAC,EAAC9C,eAAe,EAAE,OAAOgD,YAAY,KAAK,QAAQ,GAAGA,YAAY,CAACO,OAAO,CAAC,CAAC,CAAC,GAAGP,YAAY;QAAA;UAAAL,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACvI3C,OAAA;UAAAuC,QAAA,gBAAKvC,OAAA;YAAAuC,QAAA,EAAQ;UAAa;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAC/B3C,OAAA;YAAMsC,SAAS,EAAEe,UAAU,CAACP,MAAM,CAAC,IAAI,CAAC,GAAG,YAAY,GAAG,UAAW;YAAAP,QAAA,EAChE,OAAOO,MAAM,KAAK,QAAQ,GAAG,GAAGjD,eAAe,GAAGiD,MAAM,CAACM,OAAO,CAAC,CAAC,CAAC,EAAE,GAAGN;UAAM;YAAAN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7E,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eACN3C,OAAA;UAAAuC,QAAA,gBAAKvC,OAAA;YAAAuC,QAAA,EAAQ;UAAe;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACjC3C,OAAA;YAAMsC,SAAS,EAAEe,UAAU,CAACL,aAAa,CAAC,IAAI,CAAC,GAAG,YAAY,GAAG,UAAW;YAAAT,QAAA,EACvE,OAAOS,aAAa,KAAK,QAAQ,GAAG,GAAGA,aAAa,CAACI,OAAO,CAAC,CAAC,CAAC,GAAG,GAAGJ;UAAa;YAAAR,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjF,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,EACLjC,cAAc,iBACXV,OAAA,CAAAE,SAAA;UAAAqC,QAAA,gBACIvC,OAAA;YAAAuC,QAAA,gBAAKvC,OAAA;cAAAuC,QAAA,EAAQ;YAAW;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAACjC,cAAc,CAAC4C,oBAAoB,GAAG,GAAG,CAAC5C,cAAc,CAAC4C,oBAAoB,GAAG,UAAU,EAAEF,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG,KAAK;UAAA;YAAAZ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC3J3C,OAAA;YAAAuC,QAAA,gBAAKvC,OAAA;cAAAuC,QAAA,EAAQ;YAAS;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAACjC,cAAc,CAAC6C,QAAQ,IAAI,KAAK;UAAA;YAAAf,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACxE3C,OAAA;YAAAuC,QAAA,gBAAKvC,OAAA;cAAAuC,QAAA,EAAQ;YAAS;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAACjC,cAAc,CAAC8C,eAAe,IAAI,KAAK;UAAA;YAAAhB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA,eACjF,CACL;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC,EACL,CAAAjC,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAE+C,MAAM,kBACnBzD,OAAA;QAAGsC,SAAS,EAAC,iBAAiB;QAAAC,QAAA,eAC1BvC,OAAA;UAAG0D,IAAI,EAAEhD,cAAc,CAAC+C,MAAO;UAACE,MAAM,EAAC,QAAQ;UAACC,GAAG,EAAC,qBAAqB;UAAArB,QAAA,EAAC;QAE1E;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACI,CAAC,eAEV3C,OAAA;MAASsC,SAAS,EAAC,0BAA0B;MAAAC,QAAA,gBACzCvC,OAAA;QAAAuC,QAAA,EAAI;MAAsB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAE/B3C,OAAA,CAACN,UAAU;QAACW,MAAM,EAAEA;MAAO;QAAAmC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzB,CAAC,EAETjC,cAAc,iBACXV,OAAA;MAASsC,SAAS,EAAC,uBAAuB;MAAAC,QAAA,gBACtCvC,OAAA;QAAAuC,QAAA,GAAI,QAAM,EAAC7B,cAAc,CAACwC,IAAI,IAAI7C,MAAM;MAAA;QAAAmC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAC9C3C,OAAA;QAAAuC,QAAA,EAAI7B,cAAc,CAACmD,WAAW,IAAI;MAA2B;QAAArB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7D,CACZ;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAIA,CAAC;AAEd;AAACvC,EAAA,CAhLQD,gBAAgB;EAAA,QACFZ,SAAS,EACkDO,cAAc;AAAA;AAAAgE,EAAA,GAFvF3D,gBAAgB;AAkLzB,eAAeA,gBAAgB;AAAC,IAAA2D,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}